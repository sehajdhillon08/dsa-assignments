#include <bits/stdc++.h>
using namespace std;

struct Node{
    int val;
    Node *left,*right;
    Node(int x){val=x;left=right=NULL;}
};

Node* buildTree(vector<int>&pre,int ps,int pe,vector<int>&in,int is,int ie){
    if(ps>pe || is>ie) return NULL;
    Node* root=new Node(pre[ps]);
    int k=is;
    while(in[k]!=pre[ps]) k++;
    int leftSize=k-is;
    root->left=buildTree(pre,ps+1,ps+leftSize,in,is,k-1);
    root->right=buildTree(pre,ps+leftSize+1,pe,in,k+1,ie);
    return root;
}

void inorder(Node* r){
    if(!r) return;
    inorder(r->left);
    cout<<r->val<<" ";
    inorder(r->right);
}

int main(){
    int n; cin>>n;
    vector<int> pre(n), in(n);
    for(int i=0;i<n;i++) cin>>pre[i];
    for(int i=0;i<n;i++) cin>>in[i];

    Node* root=buildTree(pre,0,n-1,in,0,n-1);
    inorder(root);
}
